<v-ons-page>
    <v-ons-toolbar>
        <div class="left">
            <v-ons-back-button>
                {{ i18n.t('Back') }}
            </v-ons-back-button>
        </div>
        <div class="center" v-bind:title="request_result.data.url">
            <h1> 
                <ons-icon icon="fa-check-circle" style="color: green" v-show="request_result.data.passed"></ons-icon>
                <ons-icon icon="fa-exclamation-triangle" style="color: red" v-show="request_result.data.passed === false"></ons-icon>
                #{{ request_result.data.job_id }}-{{ request_result.data.request_id }}
                {{ request_result.data.uri }}
            </h1>
        </div>
        <div class="right">
            <ons-toolbar-button @click='open_request'>
                <ons-icon icon="fa-external-link-square"></ons-icon>
                {{ i18n.t("Test Open") }}
            </ons-toolbar-button>
            <ons-toolbar-button @click="electron_helper.open_window('https://github.com/pulipulichen/electron-loading-test/wiki/Help#result-detail')">
                <ons-icon icon="fa-question-circle"></ons-icon>
            </ons-toolbar-button>
        </div>
    </v-ons-toolbar>

    <v-ons-list modifier="inset" id="job_result" class="panel panel_results">
        <v-ons-list-item>
            <label class="left">
                URL
            </label>
            <div class="center">
                {{ request_result.data.url }}
            </div>
        </v-ons-list-item>

        <v-ons-list-item>
            <label class="left">
                Method
            </label>
            <div class="center">
                {{ request_result.data.method }}
            </div>
        </v-ons-list-item>

        <v-ons-list-item>
            <label class="left vertical-top">
                Send Data
            </label>
            <div class="center">
                <div class="list-item__title ui form">
                    <textarea readonly="readonly" style="height: 3rem;">{{ request_result.data.send_data }}</textarea>
                </div>
                <span class="list-item__subtitle" 
                      v-show="PULI_UTILS.is_json(request_result.data.send_data, false) === false">
                    <a class="ui pointing red basic label"
                       target="_blank" 
                       v-bind:href="'https://jsonlint.com/?json='+ request_result.data.send_data">
                        Send data should be valid JSON format. Check it!
                    </a>
                </span>
            </div>
        </v-ons-list-item>

        <v-ons-list-item>
            <label class="left">
                Data Type
            </label>
            <div class="center">
                {{ request_result.data.data_type }}
            </div>
        </v-ons-list-item>

        <v-ons-list-item>
            <label class="left">
                Status
            </label>
            <div class="center">
                <div class="list-item__title">
                    <ons-icon icon="fa-check-circle" style="color: green" v-show="request_result.data.passed"></ons-icon>
                    <ons-icon icon="fa-exclamation-triangle" style="color: red" v-show="request_result.data.passed === false"></ons-icon>
                    {{ request_result.data.status }}
                </div>
                <span class="list-item__subtitle" v-show="PULI_UTILS.is_int(request_result.data.status)">
                    {{ status_code(request_result.data.status) }}
                </span>
            </div>
        </v-ons-list-item>

        <v-ons-list-item>
            <label class="left">
                Response
            </label>
            <div class="center selectable">
                <div class="list-item__title" 
                     v-show="request_result.data.data_type === 'json' && PULI_UTILS.is_json(request_result.data.response) === false">
                    <a class="ui pointing below red basic label" 
                       target="_blank" 
                       v-bind:href="'https://jsonlint.com/?json='+ request_result.data.response">
                        Responsed text is invalid JSON format. Check it!
                    </a>
                </div>
                <span class="list-item__subtitle ui form">
                    <textarea readonly="readonly" style="max-height: calc(100vh - 34rem);">{{ request_result.data.response }}</textarea>
                </span>
            </div>
        </v-ons-list-item>
    </v-ons-list>
</v-ons-page>