
<v-ons-page id="main_page">
    <v-ons-toolbar>
        <div class="left">
            <v-ons-row>
                <v-ons-col v-show="status_average_spend_time > 0">
                    <ons-icon icon="md-timer"></ons-icon>
                    {{ status_average_spend_time }}
                </v-ons-col>
                <v-ons-col v-show="status_passed_job > 0">
                    <ons-icon icon="fa-check-circle" style="color: green"></ons-icon>
                    {{ status_passed_job }}
                </v-ons-col>
                <v-ons-col v-show="status_failed_job > 0">
                    <ons-icon icon="fa-exclamation-triangle" style="color: red"></ons-icon>
                    {{ status_failed_job }}
                </v-ons-col>
            </v-ons-row>
        </div>

        <div class="center">
            <v-ons-row>
            <v-ons-col v-show="status_percent > 0 && status_percent < 100">
                {{ status_percent }}
                %
            </v-ons-col>
            <v-ons-col v-show="status_percent === 0 || status_percent === 100">
                <h1>{{ title }}</h1>
            </v-ons-col>
                </v-ons-row>
        </div>


        <div class="right">
            <ons-toolbar-button @click="jump_to_config" v-show="results.length > 0">
                <ons-icon icon="fa-cog"></ons-icon>
            </ons-toolbar-button>
            <ons-toolbar-button v-if="status_running === false" @click="job_run">
                <ons-icon icon="fa-play-circle"></ons-icon>
            </ons-toolbar-button>
            <ons-toolbar-button @click="job_stop" v-if="status_running === true">
                <ons-icon icon="fa-pause"></ons-icon>
            </ons-toolbar-button>
            <ons-toolbar-button @click="results_clear" v-show="results.length > 0">
                <ons-icon icon="fa-trash"></ons-icon>
            </ons-toolbar-button>
        </div>
    </v-ons-toolbar>

    <!-- ---------------------------------------------- -->
    <!-- Configuration -->

    <v-ons-list modifier="inset" id="panel_configuration" class="panel">
        
        <v-ons-list-header>
            Job Configuration
        </v-ons-list-header>
        <v-ons-list-item>
            <label class="center" for="switch1">
            Mock user number
            </label>
            <div class="right">
                <v-ons-input placeholder="Job count" float v-model="status_total_job" type="number" class="text-right"></v-ons-input>
            </div>
        </v-ons-list-item>
        
        <v-ons-list-item>
        <label class="center" for="switch_config_execute_mode">
            Execute mode
        </label>
        <div class="right">
            <v-ons-select v-model="config_execute_mode">
                <option value="simultaneously">Simultaneously</option>
                <option value="queue">queue</option>
          </v-ons-select>
        </div>
            </v-ons-list-item>
        
        <v-ons-list-header>
            Request URL Configuration
        </v-ons-list-header>
        <v-ons-list-item>
            <v-ons-col>
                <v-ons-input placeholder="Test URL" float v-model="config_base_url" id="base_url"></v-ons-input>
            </v-ons-col>
            <v-ons-col class="text-right">
                <v-ons-button modifier="quiet">
                    <ons-icon icon="md-plus-circle"></ons-icon>
                </v-ons-button>
                <v-ons-button modifier="quiet">
                    <ons-icon icon="md-minus-circle"></ons-icon>
                </v-ons-button>
                <v-ons-button modifier="quiet">
                    <ons-icon icon="fa-cog"></ons-icon>
                </v-ons-button>
            </v-ons-col>
        </v-ons-list-item>
        
        
        
        <v-ons-list-item v-if="status_running === false" @click="job_run">
            <v-ons-button modifier="large">
                <ons-icon icon="fa-play-circle"></ons-icon>
                RUN
            </v-ons-button>
        </v-ons-list-item>
        <v-ons-list-item v-if="status_running === true" @click="job_stop">
            <v-ons-button modifier="large">
                <ons-icon icon="fa-pause"></ons-icon>
                STOP
            </v-ons-button>
        </v-ons-list-item>
    </v-ons-list>

    <hr v-show="results.length" />
    
    <v-ons-list modifier="inset" v-show="results.length" class="panel" id="panel_results">
        <v-ons-list-header>
            Results
        </v-ons-list-header>
        <v-ons-list-item v-for="(result, index) in results" class="cursor-pointer" v-bind:class="{ failed: (result.passed === false)}">
            <v-ons-col width="4rem">
                # {{ index + 1 }}
            </v-ons-col>
            <v-ons-col width="5rem">
                <ons-icon icon="md-timer"></ons-icon>
                {{ result.spend_time }}
            </v-ons-col>
            <v-ons-col width="4rem">
                <ons-icon icon="fa-check-circle" v-show="result.passed" style="color: green"></ons-icon>
                <ons-icon icon="fa-exclamation-triangle" v-show="result.passed === false" ></ons-icon>
                <span v-show="result.passed === false">{{ result.status }}</span>
            </v-ons-col>
            <v-ons-col v-bind:title="result.url">
                {{ result.uri }}
            </v-ons-col>
            <v-ons-col class="text-center" width="2rem">
                <v-ons-button modifier="quiet">
                    <ons-icon icon="fa-angle-right"></ons-icon>
                </v-ons-button>
            </v-ons-col>
                
        </v-ons-list-item>
    </v-ons-list>

    <!-- ---------------------------------------------- -->
    <!-- Result -->



</v-ons-page>